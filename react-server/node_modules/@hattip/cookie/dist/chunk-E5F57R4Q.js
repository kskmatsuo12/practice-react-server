// src/parse.ts
import "@hattip/compose";
import { parse } from "cookie";
function cookieParser(options) {
  return function parseCookie(ctx) {
    Object.defineProperty(ctx, "cookie", {
      get() {
        const value = parse(ctx.request.headers.get("cookie") || "", options);
        Object.defineProperty(ctx, "cookie", {
          value,
          configurable: true,
          enumerable: true
        });
        return value;
      },
      configurable: true,
      enumerable: true
    });
  };
}

export {
  cookieParser
};
